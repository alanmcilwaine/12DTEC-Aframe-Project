<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Alan's Maze</title>
	<link href="style.css" rel="stylesheet" type="text/css" />

	<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-simple-sun-sky@^1.2.2/simple-sun-sky.js"></script>

    <script src="change-map.js"></script>
    <script src="show-path.js"></script>

	<!-- <script src="/script/show-path.js"></script>
	<script src="/script/change-world.js"></script> -->

</head>

<body>
    <a-scene inspector-plugin-recast>
<!-- ASSETS -->
        <a-assets>
<!-- Adding maze assets -->
            <a-asset-item id="mazeEasy" src="models/mazeEasy.gltf"></a-asset-item>
            <a-asset-item id="mazeMed" src="models/mazeMed.gltf"></a-asset-item>
            <a-asset-item id="mazeHard" src="models/mazeHard.gltf"></a-asset-item>
            <a-asset-item id="mazeMedium" src="models/mazeMed.glb"></a-asset-item>

<!-- Adding path -->
            <a-asset-item id="pathEasy" src="models/mazeRouteEasy.gltf"></a-asset-item>
            <a-asset-item id="pathMid" src="models/mazeRouteMed.gltf"></a-asset-item>
            <a-asset-item id="pathHard" src="models/mazeRouteHard.gltf"></a-asset-item>

<!-- Navmesh -->
        </a-assets>
<!-- Camera -->
        <a-entity id="rig" movement-controls="constrainToNavMesh: true">
            <a-entity camera position="0 1.6 0" look-controls>
                <a-entity 
                cursor="fuse:true;fuseTimeout:500"
                position="0 0 -2"
                geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
                material="color: white; shader: flat"></a-entity>
            </a-entity>
          </a-entity>
<!-- Sky -->
          <a-simple-sun-sky sun-position="1 0.1 0" fog-color="#5681ac"></a-simple-sun-sky>
          
<!-- Calling objects -->
          <a-gltf-model id="mazeCall" class="easy" src="#mazeEasy" scale="12 12 12"></a-gltf-model>
          <a-gltf-model id="pathCall" src="#pathEasy" scale="12 12 12" visible="false" position="0 0 -70"></a-gltf-model>
<!-- Buttons  -->
          <a-entity id="instructionText" text="value:Hover over the buttons to change difficulty; align:center;" scale="12 12 12" rotation="180 0 180" position="0 5.8 11.85"></a-entity>

          <!-- Difficulties -->
          <a-entity id="difficultyText" text="value:Change Difficulty; align:center;" scale="12 12 12" rotation="180 0 180" position="0 4.25 11.85"></a-entity>
          <a-box id="easyButton" class="easy" scale="1 1 1" position="1.5 3 11.85" color="green" change-map></a-box>
          <a-box id="medButton" class="med" scale="1 1 1" position="0 3 11.85" color="orange" change-map></a-box>
          <a-box id="hardButton" class="hard" scale="1 1 1" position="-1.5 3 11.85" color="red" change-map></a-box>
          <a-entity id="difficultyValue" text="value:Easy; align:center;" scale="9 9 9" rotation="180 0 180" position="0 2 11.85"></a-entity>

          <!-- Cheat Path -->
          <a-entity id="pathText" text="value:Show Final Path; align:center;" scale="12 12 12" rotation="180 0 180" position="5 4.25 11.85"></a-entity>
          <a-box id="pathButton" scale="1 1 1" position="5 3 11.85" color="red" show-path></a-box>
          <a-entity id="pathValue" text="value:Off; align:center;" scale="9 9 9" rotation="180 0 180" position="5 2 11.85"></a-entity>
    </a-scene>
</body>